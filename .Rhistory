library(dplyr)              # fornece um conjunto de funções que permitem filtrar, transformar, resumir e combinar dados
library(lubridate)          # permite realizar operações comuns em datas
library(readr)              # conjunto de funções rápidas e eficientes para importar e ler dados tabulares em R
webpage <- read_html("https://www.nytimes.com/interactive/2017/06/23/opinion/trumps-lies.html")
results <-
webpage %>%
html_nodes(".short-desc")
results
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
records
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(results[i] %>%
html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
View(df)
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(results[i])
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
View(df)
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
results[i]
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
gc()
webpage <- read_html("https://www.nytimes.com/interactive/2017/06/23/opinion/trumps-lies.html")
results <-
webpage %>%
html_nodes(".short-desc")
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
results[i]
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
View(df)
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <- str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE), 2, -2)
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
View(df)
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2])
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
webpage <- read_html("https://www.nytimes.com/interactive/2017/06/23/opinion/trumps-lies.html")
results <-
webpage %>%
html_nodes(".short-desc")
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2])
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
date
i
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
}
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
View(df)
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
results[i]
results[i][2]
}
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
print(results[i])
}
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
print(xml_contents(results[i]))
}
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
bla <- xml_contents(results[i])
}
class(bla)
bla
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
lie = lie,
explanation = explanation,
url = url)
print(xml_contents(results[i]))
}
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
exe <-
str_sub(results[i] %>%
html_nodes(".short-desc") %>%
html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
exe = exe,
lie = lie,
explanation = explanation,
url = url)
print(xml_contents(results[i]))
}
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
exe <-
str_sub(results[i] %>%
html_nodes(".short-desc") %>%
html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
exe = exe,
lie = lie,
explanation = explanation,
url = url)
print(xml_contents(results[i]))
}
webpage <- read_html("https://www.nytimes.com/interactive/2017/06/23/opinion/trumps-lies.html")
results <-
webpage %>%
html_nodes(".short-desc")
records <- vector("list", length = length(results))
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
exe <-
str_sub(results[i] %>%
html_nodes(".short-desc") %>%
html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
exe = exe,
lie = lie,
explanation = explanation,
url = url)
print(xml_contents(results[i]))
}
for(i in seq_along(results)){
date <-
str_c(results[i] %>%
html_nodes("strong") %>%
html_text(trim = TRUE), ', 2017')
lie <-
str_sub(xml_contents(results[i])[2] %>% html_text(trim = TRUE))
exe <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE))
explanation <-
str_sub(results[i] %>%
html_nodes(".short-truth") %>%
html_text(trim = TRUE), 2, -2)
url <-
results[i] %>%
html_nodes("a") %>%
html_attr("href")
records[[i]] <- data.frame(date = date,
exe = exe,
lie = lie,
explanation = explanation,
url = url)
print(xml_contents(results[i]))
}
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
View(df)
str(df)
summary(df)
df <- df$date %>% mdy(df$date)
df
View(df)
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
df <- mdy(df$date)
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
df$date <- mdy(df$date)
df <- bind_rows(records)   # combinando todos os elementos da lista records em um único data frame
summary(df)
df$date <- mdy(df$date)
summary(df)
write.csv(df, "projeto_mentiras.csv")
df <- read_csv("projento_mentiras.csv")
View(df)
df <- read_csv("projeto_mentiras.csv")
View(df)
setwd("C:/Users/Julia/Desktop/CienciaDeDados/1.Big-Data-Analytics-com-R-e-Microsoft-Azure-Machine-Learning/7.Manipulacao-de-Dados-com-R")
getwd()
install.packages("haven")
install.packages("haven")
library(haven)
vendas <- read_sas("vendas.sas")
View(vendas)
class(vendas)
str(vendas)
summary(vendas)
